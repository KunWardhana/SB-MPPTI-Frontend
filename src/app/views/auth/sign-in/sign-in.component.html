<div class="flex items-center justify-center gap-1 p-4 lg:p-0">
  <p class="font-inter text-center font-bold text-kone text-xs lg:text-base">
    Manud <br />
    Jaya
  </p>
</div>
<h3
  class="font-merriweather text-3xl text-center text-kone spacing mt-4 lg:mt-6 my-4 font-bold"
>
  Sign In
</h3>
<form [formGroup]="signinForm" (ngSubmit)="submitForm()" class="p-4">
  <div
    class="relative h-14 bg-[#F7F6F6] rounded-xl flex items-end justify-center focus-within:border-2 focus-within:border-kthree"
  >
    <input
      type="text"
      id="username"
      required
      formControlName="username"
      autocomplete="off"
      class="relative h-[80%] w-full px-4 py-3 bg-transparent border-none outline-none pointer focus:ring-0 peer font-bold text-kthree"
    />
    <label
      for="username"
      class="text-base pointer-events-none text-ktwo absolute left-[16px] bottom-4 peer-focus:bottom-8 peer-focus:text-xs peer-focus:text-[#2D2D2D] peer-valid:top-2 peer-valid:text-xs peer-valid:text-[#2D2D2D] transition-all duration-300"
      >Username</label
    >
  </div>
  <div
    class="font-inter text-xs text-red-700 mb-4"
    [style.opacity]="
      signinForm.controls['username'].hasError('required') &&
      signinForm.controls['username'].touched
        ? '100'
        : '0'
    "
  >
    *Field ini harus diisi.
  </div>
  <div
    class="relative h-14 bg-[#F7F6F6] rounded-xl flex items-end justify-center focus-within:border-2 focus-within:border-kthree"
  >
    <input
      [type]="passVisibility ? 'text' : 'password'"
      id="password"
      required
      formControlName="password"
      autocomplete="off"
      class="relative h-[80%] w-full px-4 py-3 bg-transparent border-none outline-none pointer focus:ring-0 peer font-bold text-kthree"
    />
    <label
      for="password"
      class="text-base pointer-events-none text-ktwo absolute left-[16px] bottom-4 peer-focus:bottom-8 peer-focus:text-xs peer-focus:text-[#2D2D2D] peer-valid:top-2 peer-valid:text-xs peer-valid:text-[#2D2D2D] transition-all duration-300"
      >Password</label
    >
    <button
      class="absolute top-1/2 right-4 z-10 -translate-y-1/2"
      type="button"
      (click)="passVisibility = !passVisibility"
    >
      <img
        *ngIf="!passVisibility"
        ngSrc="assets/icons/visibility_off.svg"
        height="19"
        width="23"
        alt="Visibility On"
      />
      <img
        *ngIf="passVisibility"
        ngSrc="assets/icons/visibility_on.svg"
        height="19"
        width="23"
        alt="Visibility Off"
      />
    </button>
  </div>
  <div
    class="font-inter text-xs text-red-700"
    [style.opacity]="
      signinForm.controls['password'].hasError('required') &&
      signinForm.controls['password'].touched
        ? '100'
        : '0'
    "
  >
    *Field ini harus diisi.
  </div>
  <div
    class="font-inter text-xs text-red-700 mb-2"
    [style.opacity]="invalidAuth ? '100' : '0'"
  >
    *Username atau password salah.
  </div>
  <div class="pt-2">
    <button
      type="submit"
      [disabled]="signinForm.invalid"
      class="bg-kthree rounded-xl py-4 px-4 w-[100%] font-bold text-kfour font-inter block m-auto border boredr-solid border-kthree hover:bg-kfour hover:text-kthree disabled:bg-ktwo disabled:border-ktwo disabled:hover:bg-ktwo disabled:hover:text-kfour disabled:hover:cursor-not-allowed"
    >
      Submit
    </button>
  </div>
</form>

<app-popup-confirmation
  [isVisible]="isVisible"
  (modalData)="emitModalData($event)"
>
  <div title class="font-bold text-2xl text-red-700">Signin Gagal</div>
  <div content>
    <p>Terjadi kesalahan pada sistem silahkan coba beberapa saat lagi.</p>
    <div class="flex justify-center lg:justify-end gap-4 mt-10">
      <button
        (click)="onClickTutup()"
        class="py-3 px-5 border boder-solid border-kthree bg-kfour rounded-xl text-kthree font-bold text-base hover:bg-kthree hover:text-kfour"
      >
        Tutup
      </button>
    </div>
  </div>
</app-popup-confirmation>
